HaveACupOfTea(HACOT)は、従来のバイクの操作表示に加えて、アクセル及びブレーキの入力履歴があったらいいな...という想いを実現した革新的なツールです。

主な機能は、以下の2つです。

・操作及び入力履歴の表示
・オーバーレイ

□操作及び入力履歴の表示
Trialsシリーズのアクセル、ブレーキ、リーン操作のリアルタイム表示に加えて、アクセル、ブレーキ並びにコース及びCPリセットの入力履歴をグラフィカルに時系列表示します。
トリガー（アクセルとブレーキ）の入力量をグラフと数値で表現することで、プレイヤーは自身の操作についてより多くの情報を得ることができます。
トリガーの入力は0-255の256段階である一方、TrialsRisingでは実際の入力量は0-224の225段階となっています。
HaveACupOfTeaでは、トリガーの入力量である256段階方式を採用していますが、これはTrialsRisingに限らない他の用途で使用する場合も考慮してのこととなります。
入力履歴は、アクセルとブレーキ等操作の優先順位の特性上、CP・コースリセット＞ブレーキ＞アクセルの順に優先して表示するようになっています。
なお、左スティックの見た目は非操作時と操作時とで切り替わるようになっていますが、この切替の閾値はTrialsRisingのものと一致していません。
将来的には一致させたいと考えています。


このアプリケーションの特色としてテクスチャのカスタマイズが挙げられます。
HaveACupOfTea\Texture下の各フォルダ内にテクスチャが格納されています。
アクセルやブレーキ、左スティック等の見た目を変えたい場合は、代替となる画像に差し替え、名前を元の画像ファイルのものに変更してください。
ファイル形式はpngファイルにのみ対応しています。
アクセルとブレーキの入力は、入力量に応じて画像を引き伸ばし、かつ位置を変更することで下から上にグラフが伸びているように見せています。
従って、テクスチャ画像には、無地または引き伸ばしの影響の少ないパターンを用いたデザインが望ましいでしょう。


□オーバーレイ
対象の画面上にHaveACupOfTeaの画面を透過して表示する機能です。
メニュー>オーバーレイから起動することができます。
また、初期設定ではTrialsRisingを起動していると自動で起動するようになっています。
もう一度メニュー>オーバーレイを選択することでオーバーレイ機能を停止することができます。
オプションから表示倍率、表示位置、自動起動のオンオフを設定することができます。
※オーバーレイ機能は、フルスクリーンモードでは使用できません。


□オプション
・表示倍率
オーバーレイウィンドウの表示倍率を変更することができます。
倍率は0-100%の範囲で設定することができ、初期設定は100%となっています。

・表示位置
画面の左上を原点としてX,Y座標を指定して設定します。
CENTERボタンで画面中央に表示するように座標を設定できます。
この画面中央を基準に位置を調整するとよいでしょう。
なお、オーバーレイウィンドウの100%表示時の画面サイズは256×1080です。
X座標が変に右にズレることがあったら教えてください。

・自動起動
TrialsRisingを起動しているときにオーバーレイを自動で起動するか設定することができます。

各種設定は、OKボタンを押下後にOption.iniに保存されます。
Option.iniを直接編集した場合の動作は保障しません。


□配信での使いかた（OBS）
ウィンドウキャプチャでHaveACupOfTeaを選択してください。
背景を透過させたい場合は、フィルタでカラーキーを選択し、キーの色を#00000に設定し、類似性を調整するのがよいでしょう。
背景のカラーは#2d2d2dとなっています。


□対応機器
ゲームパッド

・動作確認機種
DUALSENSE
DUALSHOCK 4
XBox Series X

※このアプリケーションはコントローラーの入力検出方法としてGameInputを採用しています。
お使いの環境によっては動作確認機種であっても使用できない場合があります。


□動作検証環境

OS：Windows10
CPU：Intel i7-6700
RAM：32GB
GPU:RTX3070


バグがあったらやさしく教えてください。　-- Rivy